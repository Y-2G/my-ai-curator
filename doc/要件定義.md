# 個人キュレーションサイト 要件定義書

## プロジェクト概要
AIを活用して個人の興味に合った情報を自動収集・要約し、Webサイトに投稿する自動キュレーションシステム

## 機能要件

### 1. AI主導情報収集機能
- **目的**: AIが自動的にあなたの興味に合いそうな情報を発見・収集
- **詳細**:
  - **AI検索クエリ生成**: あなたのプロフィール・過去の興味から検索キーワードを自動生成
  - **動的サイト探索**: AIが新しい情報源やトレンドサイトを自動発見
  - **多角的情報収集**: 
    - Google News API, Reddit API
    - Hacker News, GitHub Trending
    - RSS フィード自動発見
    - Twitter/X トレンド（API制限内で）
  - **収集頻度**: 1日1回（朝7時頃）
  - **AI判断**: 記事の品質・関連度をAIが事前評価

### 2. AI要約・記事生成機能
- **目的**: 収集した情報をAIが要約し、記事として整形
- **詳細**:
  - **要約記事生成**: 複数のソースから統合された記事作成
  - **興味度スコアリング**: あなたの関心に基づく優先度付け
  - **自動カテゴリ分類**: 技術、ビジネス、趣味等への自動分類
  - **記事品質保証**: 重複除去、事実確認、ソース信頼性チェック
  - **生成数**: 1日3-5記事（高品質厳選）

### 3. 自動記事投稿機能
- **目的**: AI生成記事を自動的にサイトに投稿
- **詳細**:
  - **ブログ形式サイト**: 時系列の記事投稿
  - **記事構成**: タイトル、要約、詳細、関連リンク
  - **自動SEO**: メタタグ、タイトル最適化
  - **元ソース明記**: 引用元の明確な表示
  - **レスポンシブデザイン**: モバイル対応

### 4. Slack通知機能
- **目的**: 新規投稿をSlackで通知
- **詳細**:
  - 投稿完了時に自動通知
  - 記事タイトル、要約、リンクを含む
  - 興味度の高い記事は優先通知

### 5. 定期実行機能
- **目的**: 全プロセスを自動化
- **詳細**:
  - 1日1〜2回の定期実行
  - エラー時の再試行機能
  - 実行ログの保存

## 技術要件

### 推奨技術スタック（低コスト重視）

#### バックエンド（TypeScript + AI統合）
- **言語**: TypeScript/Node.js
- **フレームワーク**: Next.js API Routes（フルスタック構成）
- **AI/LLM**: 
  - **メイン**: OpenAI GPT-4o（検索クエリ生成、要約、記事作成）
  - **補助**: Claude（記事品質チェック、代替要約）
- **情報収集API（スクレイピング不要）**:
  - Google Custom Search API
  - News API
  - Reddit API (r/programming等)
  - RSS パーサー (fast-xml-parser)
  - GitHub API (trending, releases)

#### フロントエンド（記事投稿サイト）
- **フレームワーク**: Next.js（SSG/ISR対応）
- **スタイリング**: Tailwind CSS
- **記事表示**:
  - ブログ形式の記事一覧
  - 個別記事ページ
  - カテゴリ・タグ機能
  - 検索機能

#### データベース（記事管理）
- **推奨**: Vercel Postgres（記事データ、AI学習履歴）
- **代替**: Supabase PostgreSQL
- **キャッシュ**: Vercel KV（API結果、一時データ）

#### インフラ・デプロイ（個人用）
- **メイン**: Vercel（フロント・API統合デプロイ）
- **定期実行**: Vercel Cron Jobs
- **ストレージ**: Vercel KV（設定・履歴用）

#### 通知
- **Slack**: Slack Webhook API

## コスト見積もり（月額・AI主導型）

### 最低コスト構成（スクレイピングレス）
- **AI API**: $8-15（GPT-4o for 検索+要約+記事生成）
- **Google Custom Search**: $5（100クエリ/日）
- **News API**: $0（無料枠1000req/month使用）
- **ホスティング**: $0（Vercel無料枠、軽量処理）
- **データベース**: $5（Vercel Postgres Hobby）
- **合計**: 月額 $18-25

### 推奨構成（高品質・スクレイピングレス）
- **AI API**: $15-30（より詳細な分析・複数AI使用）
- **Google Custom Search**: $10-15（200-300クエリ/日）
- **News API**: $0（無料枠内）
- **ホスティング**: $20（Vercel Pro、高いAPI制限）
- **データベース**: $20（Vercel Postgres Pro）
- **合計**: 月額 $65-85

### 超低コスト構成（API制限あり）
- **AI API**: $5-10（GPT-4o-mini使用）
- **情報源**: Reddit API + RSS + GitHub API（すべて無料）
- **ホスティング**: $0（Vercel無料枠）
- **データベース**: $0（JSON ファイル管理）
- **合計**: 月額 $5-10

## 開発フェーズ（スクレイピングレス・高速開発）

### Phase 1: 基盤構築（1-2週間）
1. **Next.js + AI環境構築**
   - TypeScript + Tailwind CSS
   - OpenAI API統合
   - 基本的なプロンプト設計
2. **API統合（スクレイピングなし）**
   - Google Custom Search API
   - News API統合
   - Reddit API連携  
   - RSS フィード取得
   - GitHub API統合
3. **記事投稿サイト基盤**
   - ブログ形式のフロントエンド
   - 記事CRUD機能
   - PostgreSQL設計・実装
4. **AI記事生成**
   - API情報からの要約・記事作成
   - 品質評価システム

### Phase 2: 自動化・最適化（1週間）
1. **完全自動化**
   - Vercel Cron Jobs設定
   - エラーハンドリング・再試行
   - API制限管理
2. **Slack通知統合**
   - 新記事投稿通知
   - システム監視通知
3. **AI学習機能**
   - 個人興味プロファイル構築
   - 検索クエリ最適化

### Phase 3: 継続改善（継続的）
1. **精度向上**
   - AI判定精度の改善
   - 新しい情報源の追加
2. **UI/UX改善**
   - 検索・フィルタ機能
   - レスポンシブ対応
3. **パフォーマンス最適化**
   - キャッシュ戦略
   - API効率化

## リスク・考慮事項（スクレイピングレス構成）

### 技術的リスク（大幅軽減）
- **API制限**: 各APIの利用制限内での運用
- **AI APIコスト**: 使用量の監視・制御機能
- **レート制限**: 適切な間隔でのAPI呼び出し

### 法的考慮事項（リスク最小）
- **著作権**: APIで提供される情報のみ使用、完全合法
- **利用規約**: 各API提供者の規約に準拠
- **個人利用**: 完全に個人用途、商用利用なし
- **robots.txt**: スクレイピングなしのため考慮不要

### 運用上の利点
- **高い安定性**: サイト構造変更の影響なし
- **低メンテナンス**: 壊れにくいシンプル構成
- **高速処理**: API呼び出しのみで高パフォーマンス
- **スケーラビリティ**: 必要に応じて情報源追加が容易

## 成功指標（AI主導型）
- **記事品質**: 1日3-5記事の高関連度コンテンツ
- **AI精度**: 90%以上があなたの興味に合致
- **自動化率**: 人手介入なしで7日間連続稼働
- **情報発見力**: 従来見つけられなかった有益な情報源の発掘
- **時間節約**: 情報収集時間を80%以上短縮
- **コストパフォーマンス**: 月額$25以下で高品質維持
- **学習効果**: 3ヶ月で興味予測精度が向上
